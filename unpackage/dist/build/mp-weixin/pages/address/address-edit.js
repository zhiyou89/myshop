(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address-edit"],{"13fb":function(e,t,n){"use strict";n.r(t);var s=n("affc"),o=n("d618");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("e684");var i,r=n("f0c5"),d=Object(r["a"])(o["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],i);t["default"]=d.exports},"821d":function(e,t,n){"use strict";(function(e){n("ffa8");s(n("66fd"));var t=s(n("13fb"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},af16:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("b055")),o=a(n("2e10"));function a(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{addressError:!1,nameByChooseAddress:"点击选择正确的地址",addressInfo:{},cityAndCountName:"",detailInfo:"",userName:"",telNumber:"",navID:1,sexID:1,index:0,title:"Hello",iconData:[{id:1,text:"家"},{id:2,text:"学校"},{id:3,text:"公司"}],sex:[{label:"男",value:0,checked:!0},{label:"女",value:1}]}},onLoad:function(e){this.index=e.index,this.showStorageAddressInfo(),1==this.sexID?this.sex=[{label:"男",value:0},{label:"女",value:1,checked:!0}]:this.sex=[{label:"男",value:0,checked:!0},{label:"女",value:1}]},onShow:function(){},onHide:function(){},methods:{chooseAddress:function(){var t=this;this.addressError=!1;var n=e.getStorageSync("setting");e.chooseLocation({success:function(s){var a=o.default.distance(s.latitude,s.longitude,n.latitude,n.longitude);a>n.delivery_distance?(t.addressError=!0,t.nameByChooseAddress="请选择其他地址",e.showToast({title:"超出配送范围,请您选择其他地址",icon:"none"})):(t.nameByChooseAddress=s.name,t.cityAndCountName=s.address)}})},change:function(e){this.cityAndCountName=e.data.join("")},checkIcon:function(e){this.navID=e+1},radioChange:function(e){this.sexID=e.detail.value},showStorageAddressInfo:function(){var t=e.getStorageSync(s.default.storageKeyForAddress);this.addressInfo=t[this.index],this.nameByChooseAddress=this.addressInfo.nameByChooseAddress,this.cityAndCountName=this.addressInfo.cityAndCountName,this.detailInfo=this.addressInfo.detailInfo,this.userName=this.addressInfo.userName,this.telNumber=this.addressInfo.telNumber,this.navID=this.addressInfo.type,this.sexID=this.addressInfo.sexText},deleteAddress:function(){var t=[],n=e.getStorageSync(s.default.storageKeyForAddress);if(1==n.length)return e.showToast({icon:"none",title:"不能删除最后一条地址"}),!1;for(var o=0;o<n.length;o++)o!=this.index&&t.push(n[o]);e.setStorageSync(s.default.storageKeyForAddress,t),e.showToast({title:"删除成功",success:function(t){setTimeout((function(){e.navigateBack({delta:1})}),1500)}})},submit:function(){var t={type:this.navID,cityAndCountName:this.cityAndCountName,nameByChooseAddress:this.nameByChooseAddress,detailInfo:this.detailInfo,userName:this.userName,telNumber:this.telNumber,sexText:this.sexID};if("点击选择正确的地址"==t.nameByChooseAddress||"请选择其他地址"==t.nameByChooseAddress)return e.showToast({icon:"none",title:"请选择正确的地址"}),!1;if(""==t.detailInfo)return e.showToast({icon:"none",title:"请填写详细地址"}),!1;if(""==t.userName)return e.showToast({icon:"none",title:"收货人不能为空"}),!1;if(t.userName.length>15)return e.showToast({icon:"none",title:"名字不超过15字"}),!1;if(""==t.telNumber)return e.showToast({icon:"none",title:"电话号码不能为空"}),!1;var n=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;if(!n.test(t.telNumber))return e.showToast({icon:"none",title:"电话号码格式不对"}),!1;var o=[],a=e.getStorageSync(s.default.storageKeyForAddress);if(o.push(t),0!=a.length)for(var i=0;i<a.length;i++)i!=this.index&&o.push(a[i]);e.setStorageSync(s.default.storageKeyForAddress,o),e.showToast({title:"保存成功",success:function(t){setTimeout((function(){e.navigateBack({delta:1})}),1500)}})}}};t.default=i}).call(this,n("543d")["default"])},affc:function(e,t,n){"use strict";var s;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},d618:function(e,t,n){"use strict";n.r(t);var s=n("af16"),o=n.n(s);for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);t["default"]=o.a},e684:function(e,t,n){"use strict";var s=n("fcfb"),o=n.n(s);o.a},fcfb:function(e,t,n){}},[["821d","common/runtime","common/vendor"]]]);